<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="baidu-site-verification" content="6fea7fc7276fc383ec5b2080c662f076"/>
  
  <title>应用层 | 前端Learner</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="进程之间的通信端到端的通信是应用进程之间的通信。运输层的重要功能：复用和分用。复用指在发送方不同的应用进程都可以使用同一个运输层协议传送数据；分用指接收方的运输层在剥去报文的首部后能够把这些数据正确交付目的应用进程。网络层是为主机之间提供逻辑通信，运输层是为应用进程之间提供端到端的逻辑通信。当传输层采用面向连接的TCP协议时，尽管下面的网络是不可靠的（只提供尽最大努力服务），但这种逻辑通信信道就相">
<meta property="og:type" content="article">
<meta property="og:title" content="应用层">
<meta property="og:url" content="https://yoursite.com/2016/06/02/TCP/index.html">
<meta property="og:site_name" content="前端Learner">
<meta property="og:description" content="进程之间的通信端到端的通信是应用进程之间的通信。运输层的重要功能：复用和分用。复用指在发送方不同的应用进程都可以使用同一个运输层协议传送数据；分用指接收方的运输层在剥去报文的首部后能够把这些数据正确交付目的应用进程。网络层是为主机之间提供逻辑通信，运输层是为应用进程之间提供端到端的逻辑通信。当传输层采用面向连接的TCP协议时，尽管下面的网络是不可靠的（只提供尽最大努力服务），但这种逻辑通信信道就相">
<meta property="og:image" content="http://7xux3c.com1.z0.glb.clouddn.com/tcp.jpg">
<meta property="og:image" content="http://7xux3c.com1.z0.glb.clouddn.com/huadongchuangkou.png">
<meta property="og:image" content="http://7xux3c.com1.z0.glb.clouddn.com/tcp34.jpg">
<meta property="og:updated_time" content="2016-08-10T02:32:10.477Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="应用层">
<meta name="twitter:description" content="进程之间的通信端到端的通信是应用进程之间的通信。运输层的重要功能：复用和分用。复用指在发送方不同的应用进程都可以使用同一个运输层协议传送数据；分用指接收方的运输层在剥去报文的首部后能够把这些数据正确交付目的应用进程。网络层是为主机之间提供逻辑通信，运输层是为应用进程之间提供端到端的逻辑通信。当传输层采用面向连接的TCP协议时，尽管下面的网络是不可靠的（只提供尽最大努力服务），但这种逻辑通信信道就相">
<meta name="twitter:image" content="http://7xux3c.com1.z0.glb.clouddn.com/tcp.jpg">
  
    <link rel="alternative" href="/atom.xml" title="前端Learner" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/leaves.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  <script src="http://kiritor.github.io/js/jquery1.8.2.min.js"></script>
  <script src="http://kiritor.github.io/js/jquery.nicescroll.js"></script>
  <script src="http://kiritor.github.io/js/jquery.qrcode.min.js"></script>
  <script src="/js/ug-theme-default.js"></script>
  <script src="/js/unitegallery.js"></script>
</head>

<body>

  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img src="http://7xux3c.com1.z0.glb.clouddn.com/ffj.jpg" class="js-avatar">
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/" class="alluraregular">ffjiao</a></h1>
		</hgroup>
        <!--
		
        -->
		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>

				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/categories/front">前端开发</a></li>
				        
							<li><a href="/categories/basic">基础理论</a></li>
				        
							<li><a href="/categories/work">工作日志</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/ffjiao" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="#" title="rss">rss</a>
					        
								<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/fan-feng-jiao-53" title="zhihu">zhihu</a>
					        
						</div>
					</nav>
				</section>

				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/CSS/" style="font-size: 20px;">CSS</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/JS/" style="font-size: 10px;">JS</a> <a href="/tags/JavaScript高级程序设计-JS/" style="font-size: 10px;">JavaScript高级程序设计,JS</a> <a href="/tags/cookie-storage/" style="font-size: 10px;">cookie,storage</a> <a href="/tags/http/" style="font-size: 10px;">http</a> <a href="/tags/js/" style="font-size: 10px;">js</a> <a href="/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/tags/变量、函数声明提升/" style="font-size: 10px;">变量、函数声明提升</a> <a href="/tags/网络/" style="font-size: 10px;">网络</a> <a href="/tags/跨域-JS/" style="font-size: 10px;">跨域,JS</a> <a href="/tags/闭包-JS/" style="font-size: 10px;">闭包,JS</a>
					</div>
				</section>
				

				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">一步一步往前爬的女汉纸。。。。。。</div>
				</section>
				
			</div>
		</div>
	</header>
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">ffjiao</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="http://7xux3c.com1.z0.glb.clouddn.com/ffj.jpg" class="js-avatar">
				<hgroup>
				  <h1 class="header-author">ffjiao</h1>
				</hgroup>
			</div>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/categories/front">前端开发</a></li>
		        
					<li><a href="/categories/basic">基础理论</a></li>
		        
					<li><a href="/categories/work">工作日志</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/ffjiao" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/fan-feng-jiao-53" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>
	</div>
</nav>

	  <!--是否开启最近通知-->
	  
      <div class="body-wrap"><article id="post-TCP" class="article article-type-post" itemscope itemprop="blogPost">
    <script>
        $("html").niceScroll({
            cursorcolor: "#2a2929",
            cursoropacitymax: 1,
            touchbehavior: false,
            cursorwidth: "6px",
            cursorborder: "5",
            cursorborderradius: "0px",
            autohidemode: true
        });
    </script>
    
        <div class="article-meta">
            <a href="/2016/06/02/TCP/" class="article-date">
  	<time datetime="2016-06-02T01:00:24.000Z" itemprop="datePublished">2016-06-02</time>
</a>

        </div>
        
            <div class="article-inner">
                
                    <input type="hidden" class="isFancy" />
                    
                        
                            <header class="article-header">
                                
  
    <h1 class="article-title" itemprop="name">
      应用层
    </h1>
  


                            </header>
                            
                                <div class="article-info article-info-post">
                                    
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/网络/">网络</a></li></ul>
	</div>


                                        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/basic/">basic</a>
	</div>


                                            <div class="clearfix"></div>
                                </div>
                                
                                    
                                        <div class="article-entry" itemprop="articleBody">
                                            
                                                    <!--02-->
                                                    <p class="toc-button">目录</p>
<div id="toc" class="toc-article" style="display:none;">
    <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#u8FDB_u7A0B_u4E4B_u95F4_u7684_u901A_u4FE1"><span class="toc-number">1.</span> <span class="toc-text">进程之间的通信</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#u4F20_u8F93_u5C42_u4E24_u4E2A_u4E3B_u8981_u534F_u8BAE"><span class="toc-number">2.</span> <span class="toc-text">传输层两个主要协议</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#UDP"><span class="toc-number">2.1.</span> <span class="toc-text">UDP</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#TCP"><span class="toc-number">2.2.</span> <span class="toc-text">TCP</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#u53EF_u9760_u4F20_u8F93_u7684_u5DE5_u4F5C_u539F_u7406"><span class="toc-number">3.</span> <span class="toc-text">可靠传输的工作原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP_u62A5_u6587_u6BB5_u9996_u90E8_u683C_u5F0F"><span class="toc-number">4.</span> <span class="toc-text">TCP报文段首部格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP_u53EF_u9760_u4F20_u8F93_u7684_u5B9E_u73B0"><span class="toc-number">5.</span> <span class="toc-text">TCP可靠传输的实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP_u7684_u6D41_u91CF_u63A7_u5236"><span class="toc-number">6.</span> <span class="toc-text">TCP的流量控制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP_u7684_u62E5_u585E_u63A7_u5236"><span class="toc-number">7.</span> <span class="toc-text">TCP的拥塞控制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP_u4E09_u6B21_u63E1_u624B_u548C_u56DB_u6B21_u6325_u624B"><span class="toc-number">8.</span> <span class="toc-text">TCP三次握手和四次挥手</span></a></li></ol>
</div>
<script>
    $(function(){

        var width = document.body.scrollWidth;
        if (width <=550) {
             $(".toc-button").css("display","none");
        }
        $(".toc-button").hover(function(){
            var top = $(this).get(0).offsetTop-$(".toc-article").height()/2;
            $(".toc-article").css({
                top:top +"px"
            });
            $("#toc").show(1000,function(){});
           // $("#toc").animate({width:500;},3000);
        },function(){

        });
        $(".toc-article").hover(function(){

        },function(){
            $("#toc").hide(1000,function(){});
        });
    })
</script>

                                                        
                                                            
                                                                
                                                                            <h4 id="u8FDB_u7A0B_u4E4B_u95F4_u7684_u901A_u4FE1"><a href="#u8FDB_u7A0B_u4E4B_u95F4_u7684_u901A_u4FE1" class="headerlink" title="进程之间的通信"></a>进程之间的通信</h4><p>端到端的通信是<strong>应用进程之间的通信</strong>。<br>运输层的重要功能：<strong>复用和分用</strong>。复用指在发送方不同的应用进程都可以使用同一个运输层协议传送数据；分用指接收方的运输层在剥去报文的首部后能够把这些数据正确交付目的应用进程。<br>网络层是为主机之间提供逻辑通信，运输层是为应用进程之间提供端到端的逻辑通信。<br>当传输层采用面向连接的<strong>TCP</strong>协议时，尽管下面的网络是不可靠的（只提供尽最大努力服务），但这种逻辑通信信道就相当于一条全双工的可靠信道。但当传输层采用无连接的<strong>UDP</strong>协议时，这种逻辑通信仍然是不可靠信道。</p>
<h4 id="u4F20_u8F93_u5C42_u4E24_u4E2A_u4E3B_u8981_u534F_u8BAE"><a href="#u4F20_u8F93_u5C42_u4E24_u4E2A_u4E3B_u8981_u534F_u8BAE" class="headerlink" title="传输层两个主要协议"></a>传输层两个主要协议</h4><ol>
<li>用户数据报协议UDP</li>
<li>传输控制协议TCP</li>
</ol>
<h5 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h5><p>与IP数据报服务相比，UDP只是增加了复用和分用的功能以及差错检测功能。<br><strong>UDP的特点：</strong></p>
<ol>
<li>UDP是无连接的。减少了开销和发送数据之前的时延</li>
<li>UDP使用<strong>尽最大努力交付</strong>，即不保证可靠交付</li>
<li>UDP是面向报文的。发送方的UDP对应用程序交下来的报文添加首部后向下交付IP层，接收方的UDP，对IP层交上来的UDP用户数据报，去除首部后交给应用层。即UDP一次交付一个完整的报文。</li>
<li>UDP没有拥塞控制。网络出现拥塞不会使源主机发送速率降低，对实时应用很重要。</li>
<li>UDP支持一对一、一对多、多对一和多对多的交互通信。</li>
<li>UDP的首部开销小，只有8个字节。</li>
</ol>
<h5 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h5><p><strong>TCP的特点</strong>：</p>
<ol>
<li>TCP是面向连接的运输层协议</li>
<li>每一条TCP连接只能有两个端点，每一条TCP连接只能是点对点的</li>
<li>TCP提供可靠交付的服务。无差错、不丢失、不重复、按序到达</li>
<li>TCP提供全双工通信。TCP允许通信双方的应用进程在任何时候都能发送数据（因为两端都设有缓存）</li>
<li>面向字节流。<br>TCP并不关心应用进程一次把多长的报文发送到TCP的缓存中，而是根据<strong>对方给出的窗口值</strong>和<strong>当前网络拥塞的程度</strong>来决定一个报文段应包含多少个字节（UDP发送的报文段是应用程序给出的）</li>
</ol>
<p><strong>TCP的连接</strong><br>TCP连接的端点叫套接字（socket）。套接字=(IP地址:端口号)<br>每一条TCP连接唯一地被通信两端的两个套接字所确定，同一个IP地址可以有多个不同的TCP连接，同一个端口号可以出现在不同的TCP连接中。</p>
<h4 id="u53EF_u9760_u4F20_u8F93_u7684_u5DE5_u4F5C_u539F_u7406"><a href="#u53EF_u9760_u4F20_u8F93_u7684_u5DE5_u4F5C_u539F_u7406" class="headerlink" title="可靠传输的工作原理"></a>可靠传输的工作原理</h4><p><strong>停止等待协议</strong><br>每发送完一个分组就停止发送，等待对方确认，收到确认后再发送下一个分组。<br>优点：简单<br>缺点：信道利用率太低<br>确认和重传机制可以在不可靠的传输网络上实现可靠的通信。<br><strong>连续ARQ协议</strong><br>ARQ:自动重传请求<br>优点：容易实现，即使确认丢失也不必重传<br>缺点：不能向发送方反映出接收方已经正确收到的所有分组的信息</p>
<h4 id="TCP_u62A5_u6587_u6BB5_u9996_u90E8_u683C_u5F0F"><a href="#TCP_u62A5_u6587_u6BB5_u9996_u90E8_u683C_u5F0F" class="headerlink" title="TCP报文段首部格式"></a>TCP报文段首部格式</h4><p><img src="http://7xux3c.com1.z0.glb.clouddn.com/tcp.jpg" alt="TCP首部"><br>序号：指本报文段所发送数据的第一个字节的序号。<br>确认号：若确认号=N，表明到序号N-1为止的所有数据都已正确收到。<br>ACK：仅当ACK=1,确认号字段才有效。<br>同步SYN:在连接建立时用来同步序号。SYN=1,ACK=0代表是连接请求报文段，SYN=1,ACK=1代表是连接接受报文段。<br>终止FIN：用来释放一个连接。当FIN=1表明此报文段发送方的数据已发送完毕，并要求释放运输连接。<br>窗口：指出了现在允许对方发送的数据量。窗口值是动态变化的</p>
<h4 id="TCP_u53EF_u9760_u4F20_u8F93_u7684_u5B9E_u73B0"><a href="#TCP_u53EF_u9760_u4F20_u8F93_u7684_u5B9E_u73B0" class="headerlink" title="TCP可靠传输的实现"></a>TCP可靠传输的实现</h4><p><strong>以字节为单位的滑动窗口</strong><br>假设A是发送方，B是接收方：<br>发送窗口表示：在没有收到B的确认的情况下，A可以连续把窗口内的数据都发送出去。已发送过的数据在未收到确认之前都必须暂时保留，以便在超时重传时使用。<br>接收窗口：B只能对按序收到的数据中的最高序号给出确认。</p>
<h4 id="TCP_u7684_u6D41_u91CF_u63A7_u5236"><a href="#TCP_u7684_u6D41_u91CF_u63A7_u5236" class="headerlink" title="TCP的流量控制"></a>TCP的流量控制</h4><p><strong>利用滑动窗口实现流量控制</strong><br>流量控制就是让发送方的发送速率不要太快，要让接收方来得及接收。<br>Description：A向B发送数据，连接建立时，B告诉A接收窗口大小，A的发送窗口不能超过B给出的接收窗口的数值。TCP窗口单位是<strong>字节</strong>，不是报文段。<br><img src="http://7xux3c.com1.z0.glb.clouddn.com/huadongchuangkou.png" alt=""><br>接收方主机B进行了三次流量控制，第一次窗口减小到rwnd=300,第二次窗口减小到rwnd=100,第三次窗口减小到rwnd=0,即不允许发送方再发送数据，直到主机B重新发出一个新的窗口值为止。<br>存在问题:B向A发送零窗口不久又有了空间，于是向A发送rwnd=400报文段，然而报文段传输过程丢失了，A一直等B发送非零窗口，B一直等A发送数据，就会造成死锁。解决办法：<strong>TCP为每一个连接设一个持续计时器</strong></p>
<h4 id="TCP_u7684_u62E5_u585E_u63A7_u5236"><a href="#TCP_u7684_u62E5_u585E_u63A7_u5236" class="headerlink" title="TCP的拥塞控制"></a>TCP的拥塞控制</h4><p>拥塞控制是指防止过多的数据注入到网络中，这样可以使网络中的路由器或链路不致过载。<br>拥塞控制是全局性过程，涉及所有主机、路由器以及与降低网络传输性能有关的所有因素；流量控制指点对点通信量的控制，是个端到端的问题（接收端控制发送端），接收端抑制发送端发送数据的速率。<br><strong>拥塞控制的方法</strong></p>
<ol>
<li>慢开始和拥塞避免</li>
<li>快重传和快恢复<h4 id="TCP_u4E09_u6B21_u63E1_u624B_u548C_u56DB_u6B21_u6325_u624B"><a href="#TCP_u4E09_u6B21_u63E1_u624B_u548C_u56DB_u6B21_u6325_u624B" class="headerlink" title="TCP三次握手和四次挥手"></a>TCP三次握手和四次挥手</h4>TCP是面向连接的协议，运输连接三个阶段：连接建立、数据传送、连接释放。连接的建立采用客户服务器方式。<br><img src="http://7xux3c.com1.z0.glb.clouddn.com/tcp34.jpg" alt=""><br><strong>TCP三次握手</strong><br>第一次握手：A向B发送请求连接报文段，同步位SYN=1,初始序号seq=x(SYN报文段不能携带数据，但要消耗掉一个序号)，TCP客户进程进入SYN_SENT(同步已发送)状态，并且等待服务器的确认。<br>第二次握手：B收到连接请求报文后，如同意建立连接，则向A发送确认。在确认报文中应把SYN和ACK位都置1，确认号ack=x+1,也为自己选择一个初始序号seq=y(这个报文段也不能携带数据，但同样消耗掉一个序号)，TCP服务器进程进入SYN-RCVD(同步收到)状态.<br>第三次握手：A收到B的确认后，还要给B确认。将ACK=1,ack=y+1,seq=x+1（ACK报文段可以携带数据，但如果不携带数据则不消耗序号，此时下一个数据报文段序号仍是seq=x+1）,此时，TCP连接已经建立，A和B都进入ESTABLISHED（已建立连接）状态。<br><strong>为什么需要三次握手？</strong><br>为了防止已失效的连接请求报文段突然又传送到了B。<br><strong>TCP四次挥手</strong><br>数据传输结束后，通信的双方都可释放连接，现在A和B都处于ESTABLISHED状态。<br>第一次挥手：A向B发出连接释放报文段，将终止控制位FIN=1，seq=u(u等于前面已传送狗数据的最后一个字节的序号加1)，此时A进入FIN-WAIT-1(终止等待1)状态，等待B确认。（FIN报文段即使不携带数据也消耗一个序号）。<br>第二次挥手：B收到连接释放报文后即发出确认，ack=u+1,将自己的序号seq=v(v等于B前面已传送过的数据的最后一个字节的序号加1)，然后B进入CLOSE-WAIT(关闭等待)状态。A收到来自B的确认后就进入FIN-WAIT-2(终止等待2)状态，等待B发出的连接释放报文段。<br>第三次挥手：若B已经没有要向A发送的数据，就向A发送连接释放报文段，FIN=1,ack=u+1,seq=w(因为在半关闭状态B可能又发送了一些数据)。此时，B进入LAST-ACK(最后确认)状态，等待A的确认。<br>第四次挥手：A收到B的连接释放报文段后，必须对此发出确认。ACK=1，ack=w+1,seq=u+1,此时进入到TIME-WAIT(时间等待)状态。现在TCP连接还没有释放掉，必须经过时间等待计时器设置的时间2个MSL(最长报文段寿命)后，A才进入CLOSED状态。B收到确认后就如CLOSED状态。</li>
</ol>

                                                                                
                                        </div>
                                        
            </div>
            
                <div id="socialShare" style="margin-left:40px;display:none;">
                </div>
                <script>
                    $(function() {
                        var width = document.body.scrollWidth;
                        if (width > 550) {
                            $("#socialShare").css("display", "block");
                            $("#socialShare").socialShare({
                                content: 'Nice!不错的资源...',
                                url: window.location.href,
                                titile: ''
                            });
                        }
                    });
                </script>
                
                    
                        
<nav id="article-nav">
  
    <a href="/2016/06/18/CSS居中/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          CSS中的居中问题
        
      </div>
    </a>
  
  
    <a href="/2016/05/18/闭包详解/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">闭包详解</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>


                            
                                <!-- 多说评论框 start -->
                                
                                    <div class="ds-thread" data-thread-key="post-TCP" data-title="应用层" data-url="https://yoursite.com/2016/06/02/TCP/"></div>
                                    <!-- 多说评论框 end -->
                                    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
                                    <script type="text/javascript">
                                        var duoshuoQuery = {
                                            short_name: "ffjiao"
                                        };
                                        (function() {
                                            var ds = document.createElement('script');
                                            ds.type = 'text/javascript';
                                            ds.async = true;
                                            ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
                                            ds.charset = 'UTF-8';
                                            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
                                        })();
                                    </script>
                                    <!-- 多说公共JS代码 end -->
                                    
</article>

<!--

    <div style="width:100%;background-color:#fff;">
        <div id="uyan_frame" style="margin:auto 10px 10px 10px;"></div>
    </div>
    <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2017540"></script>
    
-->
<!--

-->

</div>
      <!--
<footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 ffjiao
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  <script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','m5RW4BUQrJ_r-CYKAksH','2.0.0');
</script>
  </div>
</footer>
-->
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/mobile.js"></script>
<script src="/js/main.js"></script>
<script src="/js/prefixfree.js"></script>





<! -- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<div id="totop" style="position:fixed;bottom:150px;right:50px;cursor: pointer;z-index:9999;opacity: 100%;">
    <a title="返回顶部" style="opacity: 100%;">
        <img src="/img/scrollup.png" />
    </a>
</div>

<script src="/js/totop.js"></script>
<script src="/js/share.js"></script>

  </div>
</body>
</html>
